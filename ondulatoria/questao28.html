<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Problema 28</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --ok:#15803d; --bad:#b91c1c; --ink:#111827; --muted:#6b7280; --card:#f8fafc;
    }
    body { font-family: Arial, sans-serif; padding: 30px; line-height: 1.65; color: var(--ink); background:#fff; }
    .topnav { display:flex; justify-content:space-between; margin-bottom:24px; }
    .topnav a { text-decoration:none; color:#2563eb; font-weight:bold; }
    h1 { font-size:28px; margin:0 0 8px 0; }
    .meta { color:var(--muted); font-size:14px; margin-bottom:18px; }
    .enunciado { background:var(--card); border:1px solid #e5e7eb; border-radius:10px; padding:18px 20px; margin-bottom:24px; }
    .imgwrap { text-align:center; margin:12px 0 0; }
    .solucao { border-left:4px solid #0ea5e9; padding:8px 12px; margin:26px 0 10px; font-weight:bold; }
    .step { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:16px; margin:14px 0; }
    .q { font-weight:bold; margin-bottom:8px; }
    .controls { display:grid; gap:8px; align-items:center; justify-items:start; }
    .controls input[type="text"] {
      width: clamp(420px, 48vw, 520px); padding:10px 12px; font-size:16px; border-radius:8px; border:1px solid #d1d5db;
      outline:none; transition:border-color .15s, background-color .15s;
    }
    .controls input.ok { border-color:var(--ok); background:#f0fdf4; }
    .controls input.bad { border-color:var(--bad); background:#fef2f2; }
    .status { font-size:14px; min-height:1.2em; }
    .status.ok { color:var(--ok); } .status.bad { color:var(--bad); }
    .hint { display:none; font-size:14px; color:#1f2937; background:#f1f5f9; border-left:3px solid #94a3b8;
            padding:8px 10px; border-radius:6px; margin-top:6px; width:clamp(420px,48vw,520px); }
    button { border:1px solid #cbd5e1; background:#f8fafc; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600; }
    button:hover { background:#eef2ff; }
    .options { display:grid; gap:10px; margin-top:8px; }
    .option { border:1px solid #e5e7eb; border-radius:10px; padding:10px 12px; cursor:pointer; background:#fff;
              transition:transform .05s ease, background-color .15s ease, border-color .15s ease; }
    .option:hover { background:#f8fafc; transform:translateY(-1px); }
    .optline { display:flex; align-items:center; gap:12px; }
    .circle { display:inline-flex; align-items:center; justify-content:center; width:28px; height:28px; border-radius:50%;
              border:2px solid #64748b; color:#334155; font-weight:800; flex:0 0 28px; }
    #message { min-height:1.2em; font-weight:bold; }
    #message.ok { color:var(--ok); } #message.bad { color:var(--bad); }
    .small { font-size:12px; color:var(--muted); }
    code { background:#f3f4f6; padding:2px 6px; border-radius:4px; }
  </style>
</head>
<body>
  <nav class="topnav" aria-label="Navegação entre problemas">
    <a href="questao27.html">← Ir para Problema anterior</a>
    <a href="questao29.html">Ir para Próximo →</a>
  </nav>

  <h1>Problema 28</h1>
  <div class="meta">Fonte/rotulagem: ENEM 2021 — eletrocardiograma (ECG)</div>

  <section class="enunciado">
    <strong>Enunciado (texto integral):</strong>
    <p>
      O eletrocardiograma é um exame que mede a intensidade dos sinais elétricos provenientes do coração.
      A figura apresenta um resultado típico obtido em um paciente saudável e a intensidade do sinal <code>V_EC</code>
      em função do tempo.
    </p>
    <div class="imgwrap">
    <img src="q28_fig1.png" alt="Traçado de ECG com picos periódicos espaçados de 1 segundo no eixo do tempo">
    </div>
    <p>
      De acordo com o eletrocardiograma apresentado, qual foi o número de batimentos cardíacos por minuto desse paciente durante o exame?
    </p>
  </section>

  <div class="solucao">Solução (interativa)</div>

  <div class="step">
    <div class="q">1) Pelo gráfico, qual é a frequência em hertz (batimentos por segundo)?</div>
    <div class="controls">
      <input type="text" aria-label="Passo 1" placeholder="Ex.: 1 Hz"
             onchange="checkWord(this,'1|1 hz|1,0 hz|1.0 hz')" />
      <div class="status" aria-live="polite"></div>
      <button type="button" onclick="toggleHint(this)">Mostrar dica</button>
      <div class="hint">Observe que há um pico por segundo ⇒ frequência é o número de picos por segundo.</div>
    </div>
  </div>

  <div class="step">
    <div class="q">2) Como converter a frequência em hertz para batimentos por minuto (bpm)?</div>
    <div class="controls">
      <input type="text" aria-label="Passo 2" placeholder="Ex.: multiplicar por 60"
             onchange="checkWord(this,'multiplicar por 60|vezes 60|f*60|f x 60')" />
      <div class="status" aria-live="polite"></div>
      <button type="button" onclick="toggleHint(this)">Mostrar dica</button>
      <div class="hint">Use que <code>1 min = 60 s</code>. Logo, <code>bpm = f(Hz) * 60</code>.</div>
    </div>
  </div>

  <div class="step">
    <div class="q">3) Qual o valor numérico do número de batimentos por minuto?</div>
    <div class="controls">
      <input type="text" aria-label="Passo 3" placeholder="Ex.: 60"
             onchange="checkWord(this,'60|60 bpm|60 batimentos')" />
      <div class="status" aria-live="polite"></div>
      <button type="button" onclick="toggleHint(this)">Mostrar dica</button>
      <div class="hint">Se <code>f = 1 Hz</code>, então <code>bpm = 1 × 60</code>.</div>
    </div>
  </div>

  <section aria-label="Alternativas de resposta">
    <h2 style="font-size:20px; margin-top:26px;">Alternativas</h2>
    <div class="options">
      <div class="option" onclick="checkAnswer('A')">
        <div class="optline"><span class="circle">A</span><div>30.</div></div>
      </div>
      <div class="option" onclick="checkAnswer('B')">
        <div class="optline"><span class="circle">B</span><div>60.</div></div>
      </div>
      <div class="option" onclick="checkAnswer('C')">
        <div class="optline"><span class="circle">C</span><div>100.</div></div>
      </div>
      <div class="option" onclick="checkAnswer('D')">
        <div class="optline"><span class="circle">D</span><div>120.</div></div>
      </div>
      <div class="option" onclick="checkAnswer('E')">
        <div class="optline"><span class="circle">E</span><div>80.</div></div>
      </div>

      <!-- EXEMPLO DE BLOCO DE OPÇÃO COM IMAGEM (para copiar)
      <div class="option" onclick="checkAnswer('B')">
        <div class="optline">
          <span class="circle">B</span>
          <!-- <img class="altimg" src="q28_altB.png" alt="Gráfico correspondente à opção correta"> -->
        </div>
      </div>
      -->
    </div>

    <div style="margin-top:12px;">
      <button type="button" onclick="checkAnswer('_force')">Confirmar escolha</button>
      <div id="message" aria-live="polite"></div>
      <div class="small" style="margin-top:6px;">Não use LaTeX renderizado; fórmulas aparecem como texto monoespaçado quando necessário.</div>
    </div>
  </section>

  <script>
    function normalize(str){
      if(typeof str!=='string') return '';
      return str.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/\s+/g,' ').trim();
    }
    function toggleHint(btn){
      const hint = btn.closest('.controls').querySelector('.hint');
      const on = hint.style.display==='block';
      hint.style.display = on ? 'none' : 'block';
      btn.textContent = on ? 'Mostrar dica' : 'Ocultar dica';
    }
    function checkWord(inputEl, patterns){
      const norm = normalize(inputEl.value);
      const accepted = String(patterns||'').split('|').map(s=>normalize(s)).filter(s=>s.length>0);
      const ok = accepted.some(acc => acc === norm);
      const st = inputEl.parentElement.querySelector('.status');
      if(ok){
        inputEl.classList.remove('bad'); inputEl.classList.add('ok');
        st.textContent='✅ Correto'; st.className='status ok';
      }else{
        inputEl.classList.remove('ok'); inputEl.classList.add('bad');
        st.textContent='❌ Verifique sua resposta'; st.className='status bad';
      }
    }
    const correct='B';
    let lastChoice=null;
    document.querySelectorAll('.option').forEach(opt=>{
      opt.addEventListener('click',()=>{
        document.querySelectorAll('.option').forEach(o=>o.style.borderColor='#e5e7eb');
        opt.style.borderColor='#94a3b8';
        const c=opt.querySelector('.circle');
        lastChoice=c?c.textContent.trim():null;
      });
    });
    function checkAnswer(trigger){
      const msg=document.getElementById('message');
      const chosen=(trigger && trigger!=='_force')?trigger:lastChoice;
      if(!chosen){ msg.textContent='Selecione uma alternativa.'; msg.className=''; return; }
      if(chosen===correct){ msg.textContent='Correto!'; msg.className='ok'; }
      else{ msg.textContent='Errado. Tente novamente.'; msg.className='bad'; }
    }
  </script>
</body>
</html>
