<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Problema 22</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      line-height: 1.65;
      background-color: #ffffff;
      color: #111827;
    }
    .topnav {
      display: flex;
      justify-content: space-between;
      margin-bottom: 24px;
    }
    .topnav a {
      text-decoration: none;
      color: #2563eb;
      font-weight: bold;
    }
    h1 { font-size: 28px; margin-bottom: 8px; }
    .meta { color: #6b7280; font-size: 14px; margin-bottom: 18px; }
    .enunciado {
      background: #f8fafc;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      padding: 18px 20px;
      margin-bottom: 24px;
    }
    .imgwrap { text-align: center; margin: 14px 0; }
    .solucao { border-left: 4px solid #0ea5e9; padding-left: 10px; font-weight: bold; margin-bottom: 10px; }
    .step {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      padding: 16px;
      margin: 14px 0;
    }
    .controls input {
      width: clamp(420px, 48vw, 520px);
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
    }
    .controls input.ok { border-color: #15803d; background: #f0fdf4; }
    .controls input.bad { border-color: #b91c1c; background: #fef2f2; }
    .hint { display: none; background: #f1f5f9; padding: 8px; border-radius: 6px; margin-top: 6px; width: clamp(420px,48vw,520px); }
    .status.ok { color: #15803d; }
    .status.bad { color: #b91c1c; }
    button { margin-top: 4px; padding: 6px 12px; border-radius: 8px; cursor: pointer; }
    .options { margin-top: 20px; }
    .option {
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 8px;
      cursor: pointer;
    }
    .circle { 
      display: inline-block; 
      width: 26px; height: 26px;
      border-radius: 50%;
      border: 2px solid #64748b;
      text-align: center;
      line-height: 24px;
      font-weight: bold;
      margin-right: 10px;
    }
    #message.ok { color: #15803d; font-weight: bold; }
    #message.bad { color: #b91c1c; font-weight: bold; }
  </style>
</head>
<body>
  <nav class="topnav">
    <a href="questao21.html">← Ir para Problema anterior</a>
    <a href="questao23.html">Ir para Próximo →</a>
  </nav>

  <h1>Problema 22</h1>
  <div class="meta">Fonte: ENEM 2021</div>

  <section class="enunciado">
    <p>
      Na cidade de São Paulo, as ilhas de calor alteram a direção da brisa marítima. 
      A brisa, ao cruzar a região quente, transfere energia térmica das superfícies aquecidas 
      para o ar, subindo e favorecendo a formação de nuvens e chuvas no centro da cidade.
    </p>
    <div class="imgwrap">
      <img src="q22_fig.png" alt="Esquema mostrando o sol, a ilha de calor e o fluxo da brisa marítima.">
    </div>
    <p>
      No processo de fortes chuvas no centro de São Paulo, há dois mecanismos dominantes de transferência de calor: 
      entre o Sol e a ilha de calor, e entre a ilha de calor e a brisa marítima. 
      Quais são esses mecanismos, respectivamente?
    </p>
  </section>

  <div class="solucao">Solução (interativa)</div>

  <div class="step">
    <div class="q">1) Qual é o modo de transferência de energia do Sol para a superfície da Terra?</div>
    <div class="controls">
      <input type="text" onchange="checkWord(this,'irradiacao|radiacao')" placeholder="Digite sua resposta">
      <div class="status" aria-live="polite"></div>
      <button onclick="toggleHint(this)">Mostrar dica</button>
      <div class="hint">Pense no processo de propagação de energia sem meio material.</div>
    </div>
  </div>

  <div class="step">
    <div class="q">2) E qual o mecanismo dominante na troca de calor entre a ilha de calor e a brisa marítima?</div>
    <div class="controls">
      <input type="text" onchange="checkWord(this,'conveccao|conveccao termica')" placeholder="Digite sua resposta">
      <div class="status" aria-live="polite"></div>
      <button onclick="toggleHint(this)">Mostrar dica</button>
      <div class="hint">O ar quente sobe e o ar frio ocupa seu lugar. Isso caracteriza qual processo?</div>
    </div>
  </div>

  <section class="options" aria-label="Alternativas">
    <div class="option" onclick="checkAnswer('A')"><span class="circle">A</span> irradiação e convecção.</div>
    <div class="option" onclick="checkAnswer('B')"><span class="circle">B</span> condução e irradiação.</div>
    <div class="option" onclick="checkAnswer('C')"><span class="circle">C</span> irradiação e condução.</div>
    <div class="option" onclick="checkAnswer('D')"><span class="circle">D</span> condução e convecção.</div>
    <div class="option" onclick="checkAnswer('E')"><span class="circle">E</span> convecção e convecção.</div>
  </section>

  <div style="margin-top:15px;">
    <button onclick="checkAnswer('_force')">Confirmar escolha</button>
    <div id="message" aria-live="polite"></div>
  </div>

  <script>
    function normalize(str) {
      return str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").trim();
    }
    function checkWord(input, patterns) {
      const val = normalize(input.value);
      const list = patterns.split('|').map(normalize);
      const ok = list.includes(val);
      const st = input.parentElement.querySelector('.status');
      if (ok) {
        input.className = 'ok';
        st.textContent = '✅ Correto';
        st.className = 'status ok';
      } else {
        input.className = 'bad';
        st.textContent = '❌ Verifique';
        st.className = 'status bad';
      }
    }
    function toggleHint(btn) {
      const hint = btn.parentElement.querySelector('.hint');
      hint.style.display = hint.style.display === 'block' ? 'none' : 'block';
      btn.textContent = hint.style.display === 'block' ? 'Ocultar dica' : 'Mostrar dica';
    }
    const correct = 'A';
    let lastChoice = null;
    document.querySelectorAll('.option').forEach(o => {
      o.addEventListener('click', () => {
        document.querySelectorAll('.option').forEach(e => e.style.borderColor = '#e5e7eb');
        o.style.borderColor = '#94a3b8';
        lastChoice = o.querySelector('.circle').textContent.trim();
      });
    });
    function checkAnswer(x) {
      const chosen = x !== '_force' ? x : lastChoice;
      const msg = document.getElementById('message');
      if (!chosen) { msg.textContent = 'Selecione uma alternativa.'; msg.className = ''; return; }
      if (chosen === correct) { msg.textContent = 'Correto!'; msg.className = 'ok'; }
      else { msg.textContent = 'Errado. Tente novamente.'; msg.className = 'bad'; }
    }
  </script>
</body>
</html>
